<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<title>Use Terminal in Windows with Style - Ink Mortar</title>
<meta name=description content="When the Linux Shell in Windows was first released, I used it and didn’t quite like it. Fast forward a year later, I heard it is a lot better now (also the fact that my familiarity with terminal commands improved helped) so I decided to give it another try. It is a really fun experience so far. In case you haven’t install the Windows Subsystem for Linux (WSL), follow this step-by-step guide by Microsoft to get started.">
<meta name=author content="BinHong Lee">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Use Terminal in Windows with Style">
<meta property="og:site_name" content="Ink Mortar">
<meta property="og:description" content="Windows [Linux Shell (Powerline + Hyper)]">
<meta name=twitter:description content="Windows [Linux Shell (Powerline + Hyper)]">
<meta name=twitter:title content="Use Terminal in Windows with Style"><meta property="article:published_time" 2017-08-15t00:00:00-08:00>
<meta property="article:modified_time" 2017-08-15t00:00:00-08:00>
<meta property="og:image" content="https://binhong.me/blog/img/use-terminal-in-windows-with-style.png">
<meta name=twitter:image content="https://binhong.me/blog/img/use-terminal-in-windows-with-style.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content="@">
<link href=https://binhong.me/blog/style.css rel=stylesheet>
<link rel=icon href=https://binhong.me/blog/img/profile.png>
<meta name=generator content="Hugo 0.89.4">
</head>
<body class=single>
<details class=dark_mode_toggle role=button open>
<summary>
<div class=content>
<div class=secondary_block>
<p class=name-title>Ink Mortar</p>
</div>
</div>
</summary>
</details>
<div class=wrapper>
<div class=content>
<div class=header_links>
<a class=link href=https://binhong.me/>About</a>
<p>|</p>
<a class=link href=https://binhong.me/blog/>Blog</a>
</div>
</div>
<article class="content_body primary_block projects">
<div class=img_class>
<img class=thumbnail_img src=https://binhong.me/blog/img/use-terminal-in-windows-with-style.png>
</div>
<main class=content>
<div class=active>
<p class="row name title">Use Terminal in Windows with Style</h1>
<p class="row lang">Windows [Linux Shell (Powerline + Hyper)]</h2>
<div class="row author">
<p>BinHong Lee</p>
<p class=right>August 15, 2017</p>
</div>
<div class=post_content><p>When the Linux Shell in Windows was first released, I used it and didn’t quite like it. Fast forward a year later, I heard it is a lot better now (also the fact that my familiarity with terminal commands improved helped) so I decided to give it another try. It is a really fun experience so far. In case you haven’t install the Windows Subsystem for Linux (WSL), follow this <a href=https://msdn.microsoft.com/en-us/commandline/wsl/install_guide>step-by-step guide</a> by Microsoft to get started. Then, install Hyper for Windows from <a href=https://releases.hyper.is/download/win>here</a>. If you didn’t already, you will also need node.js for the package management for plugins of Hyper.</p>
<h2 id=opening-the-config-file>Opening the config file</h2>
<p>At the Hyper window, press <code>Ctrl + ,</code>. It should open the config file “.hyper.js” with your default text editor. In case it throws an error, it is probably because Windows is trying to execute the js file instead of opening it for editing. You have 2 ways to work around this.</p>
<ul>
<li><strong>(Not recommended)</strong> If you have an editor that can be opened through Powershell, then you can go ahead and do <code>atom .hyper.js</code> (or whatever text editor yours is).</li>
<li><strong>(Recommended)</strong> Navigate to the user folder with your File Explorer (“C:\Users%YourUserName%\”). Right click “.hyper.js”, select “Properties”, change the “Opens with: ” to a text editor like ‘Notepad’ etc.</li>
</ul>
<p>After this, you should be able to pull up the config file easily with either pressing <code>Ctrl + ,</code> or through the Hamburger Menu into ‘Edit’ → ‘Preferences’.</p>
<h2 id=pointing-hyper-to-the-linux-shell>Pointing Hyper to the Linux Shell</h2>
<p><img src=/blog/img/utImage1.png alt></p>
<p>From the config file, look for the <code>shell: ''</code>, option as seen from the screenshot above, change it to <code>shell: 'C:\\Windows\\System32\\bash.exe\'</code>, as suggested by the comment. In my personal experience so far, neither keeping nor removing ‘shellArgs’ make any changes to the bash shell. While you are at it, feel free to add any kind of plugins you want to it. Personally, I added <code>'hyperterm-cobalt2-theme'</code> because I like the theme.</p>
<p>You should now be able to use Hyper just like a normal Linux Shell.</p>
<h2 id=general-development-environment-and-tools>General development environment and tools</h2>
<p>Since you will most likely be using this for development, you should definitely run the following commands to set yourself up.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>sudo apt-get update
sudo apt-get upgrade
sudo apt-get install build-essential
sudo apt-get install python-pip
pip install --upgrade pip
</code></pre></div><p>Among all of the above, installation of python-pip is crucial to the next step in installing Powerline for Hyper (or more like bash).</p>
<h2 id=installing-powerline>Installing Powerline</h2>
<h4 id=_this-section-is-referenced-from-setting-up-powerline-shell-on-windows-subsystem-for-linuxhttpiamnotmyselfcom20170415setting-up-powerline-shell-on-windows-subsystem-for-linux_><em>This section is referenced from <a href=http://iamnotmyself.com/2017/04/15/setting-up-powerline-shell-on-windows-subsystem-for-linux/>SETTING UP POWERLINE SHELL ON WINDOWS SUBSYSTEM FOR LINUX</a></em></h4>
<p>Run the following to install Powerline.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cd ~
git clone https://github.com/banga/powerline-shell.git
cd powerline-shell
cat config.py.dist &gt; config.py
./install.py
</code></pre></div><p>WARNING: you should not at anytime remove <code>powerline-shell</code> folder (or attempt to) without reverting the following changes that you will make to the <code>.bashrc</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cd ~
nano .bashrc
</code></pre></div><p>Feel free to use any other command line editor if you prefer (I use vim personally). Add the following lines to the file.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#66d9ef>function</span> _update_ps1<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    PS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>~/powerline-shell/powerline-shell.py $? 2&gt; /dev/null<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$TERM<span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;linux&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
    PROMPT_COMMAND<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;_update_ps1; </span>$PROMPT_COMMAND<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><p><em>*Note: If you happen use nano (like the given example), do note that <code>Ctrl+X</code> will not exit the program. You can do <code>F2</code> instead.</em></p>
<p>Save and restart Hyper (or refresh) and it should look something like this. Realize the missing characters which are supposed to be the arrows.</p>
<p><img src=/blog/img/utImage2.png alt></p>
<h3 id=fonts-for-powerline>Fonts for Powerline</h3>
<p>For the character to show, you will need Powerline fonts installed and set it in your config file <code>Ctrl + ,</code> for Hyper.</p>
<p>Go to <a href=https://github.com/powerline/fonts>https://github.com/powerline/fonts</a>, pick a font you like (I use monofur) or clone the repo and install all the fonts. Remember to install it as Windows, meaning you will be running the ps1 file (PowerShell) instead of the sh file. If it throws an error saying something along the lines of “running scripts is disabled”, follow the instructions <a href=https://www.faqforge.com/windows/windows-powershell-running-scripts-is-disabled-on-this-system/>here</a> to enable it and run it again.</p>
<p>When you are done with the installation, remember to change the font through the config file, then reload Hyper. At this point, it should look something like the following screenshot.</p>
<p><img src=/blog/img/utImage3.png alt></p>
<h2 id=optional-installing-npm>(Optional) Installing npm</h2>
<h4 id=_this-section-is-referenced-from-installing-nvm-nodejs-and-npm-on-ubuntuhttpsrandikacominstalling-nvm-nodejs-and-npm-on-ubuntu-f6deef0cd22a-by-randika-rathugamagehttpsmediumcomrandika_><em>This section is referenced from <a href=https://randika.com/installing-nvm-nodejs-and-npm-on-ubuntu-f6deef0cd22a>Installing nvm, nodejs and npm on Ubuntu</a> by <a href=https://medium.com/@randika>Randika Rathugamage</a></em></h4>
<p>The obvious way to do this is by installing it through the default package manager. However, the npm installed through apt-get is 3.5.2 version without node. I personally prefer installing it with nvm starting by cloning the nvm repository and adding it to <code>.bashrc</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cd ~
git clone https://github.com/creationix/nvm.git
echo <span style=color:#e6db74>&#34;source ~/nvm/nvm.sh&#34;</span> &gt;&gt; .bashrc
</code></pre></div><p>From here, you can either reset Hyper or do a <code>source .bashrc</code> to get nvm working for you. After that, you can do <code>nvm ls-remote</code> to look at all the versions available before deciding which to install or you can just do <code>nvm install node</code> and call it a day.</p>
<h2 id=optional-configuring-aliases>(Optional) Configuring aliases</h2>
<p>It is important to note that the Linux file system is separated from the Windows file system (located in C:/User/your-name/AppData/Local/lxss). Windows went as far as to not show the folder in File Explorer even if you select to show hidden files just so you don’t mess with it. In one scenario where I made a change to one of the files in there from File Explorer through my text editor in Windows, the WSL no longer recognizes the existence of such file in the directory immediately.* This is why you should keep all your files in your Windows side of file system and access them through something like cd /mnt/e/git/. Retyping the file path over and over again can be annoying so instead, you can set an alias by adding the command below but changing the location to the directory where you store your development files.</p>
<p><em>*Workaround: I ended up creating a new file with vim in bash and copy pasting the entire existing file from Windows. I also renamed the files beforehand to prevent file conflict.</em></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>echo <span style=color:#e6db74>&#39;alias gitfiles=&#34;cd /mnt/e/git/&#34;&#39;</span> &gt;&gt; ~/.bashrc
</code></pre></div><p>From here on out, you can just do <code>gitfiles</code> in Hyper (or bash) and you will go directly to your development folder.</p>
<h2 id=reset>Reset</h2>
<h4 id=_this-section-is-referenced-from-how-to-removereset-windows-subsystem-for-linux-on-windows-insider-build-14316httpssuperusercomquestions1065569how-to-remove-reset-windows-subsystem-for-linux-on-windows-insider-build-14316_><em>This section is referenced from <a href=https://superuser.com/questions/1065569/how-to-remove-reset-windows-subsystem-for-linux-on-windows-insider-build-14316>How to remove/reset Windows Subsystem for Linux on Windows Insider Build 14316</a></em></h4>
<p>If at any point, you seems to have screwed up your Linux subsystem, you can always reset it by going to your command prompt <code>cmd.exe</code> with admin privilege (Run as administrator) and input the following commands to reset the Linux subsystem.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>lxrun /uninstall /full
lxrun /install
</code></pre></div><h2 id=other-useful-links>Other useful links</h2>
<ul>
<li><a href=http://www.webupd8.org/2015/02/install-oracle-java-9-in-ubuntu-linux.html>Installing Oracle Java for development</a></li>
<li><a href=https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup>First time Git setup</a></li>
<li>Setting up ssh access for GitHub (<a href=https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#platform-linux>Creating key</a>, <a href=https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/#platform-linux>Adding key to account</a>)</li>
<li><a href=https://blog.ronakshah.net/Making-Terminal-Great-Again/>Making Terminal Great Again</a> (My inspiration to write this)</li>
</ul>
<h2 id=afterthoughts>Afterthoughts</h2>
<p>Initially, I did this with <a href=https://github.com/robbyrussell/oh-my-zsh/wiki/Installing-ZSH>zsh</a> (since I personally uses <a href=https://github.com/bhilburn/powerlevel9k>Powerlevel9k</a> on my Mac and I love it) but zsh doesn’t seems to play well with Hyper (specifically with the plugins) causing a lot of weird configuration behaviors. Even without Hyper, the alignments for Powerlevel9k specifically goes way off causing the input line to be on the next line instead. I speculate this is due to zsh not being built with Windows in mind and does not have such compatibility.</p>
<hr>
<h2 id=about-author>About author</h2>
<p>BinHong recently graduated from Arizona State University with B.Sc. in Software Engineering. He currently spends most of his time experimenting with technologies he had never explored in order to widen his area of expertise while he continues on his job searching journey.</p>
<blockquote>
<p><em>This article was originally published on <a href=https://blog.binhong.me/use-terminal-in-windows-with-style-45158e0c2f50>my personal Medium publication</a>.</em></p>
</blockquote>
</div>
<hr>
<div class=links>
<a class=link href=https://binhong.me/blog/tags/windows10>Windows10</a>
<a class=link href=https://binhong.me/blog/tags/linux>Linux</a>
<a class=link href=https://binhong.me/blog/tags/terminal>Terminal</a>
<a class=link href=https://binhong.me/blog/tags/shell>Shell</a>
</div>
</div>
</main>
</article><footer class=footer>
<div class=row>
<p>Fonts:</p>
<a href=https://github.com/tonsky/FiraCode/ rel=noopener target=_blank class=name>Fira Code</a>,
<a href=https://github.com/adobe-fonts/source-sans/ rel=noopener target=_blank class=name>Source Sans 3</a>,
<a href=https://rubjo.github.io/victor-mono/ rel=noopener target=_blank class=name>Victor Mono</a>
</div>
<div class=row>
<p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️ | <a href=https://github.com/binhonglee/blog rel=noopener target=_blank>Source (GitHub)</a> </p>
</div>
<p class=row>&copy; 2021 <a href=https://binhong.me/blog/>Ink Mortar</a> by <a href=https://binhong.me>BinHong Lee</a></p>
</footer>
</div>
</body>
</html>